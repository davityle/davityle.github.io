<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" prefix="og: http://ogp.me/ns#" xmlns:og="http://ogp.me/ns#"><!--<![endif]-->

    <head>
                <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="author" content="">
        <meta name="keywords" content="awesome, definitely">
	
        <meta property="og:site_name" content="If You Care">
        <meta property="og:title" content="If You Care">
        <meta property="og:url" content="http://davityle.github.io/post/quicksort-randomize-worst-case/">
        <meta property="og:description" content="A software development blog by Tyler Davis">
    
        <meta property="og:type" content="article" />
        <meta property="og:article:author" content="" />
        <meta property="og:article:published_time" content="2015-10-03T10:01:16-07:00" />
    
        <meta name="generator" content="Hugo 0.15" />
        <title>QuickSort - Worst Case with Random Pivot</title>
        <link rel="canonical" href="http://davityle.github.io/" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="">
        <link rel="stylesheet" type='text/css' href="http://davityle.github.io/css/main.css"/>
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300|Montserrat:700' rel='stylesheet' type='text/css'>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    </head>

<body>
<!--[if lt IE 7]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chrome/â€Ž">install Google Chrome</a> to experience this site.</p><![endif]-->

    <header id="site-header">
        <div class="container">
            <a href="http://davityle.github.io/" alt="If You Care"><h1 class="blog-title heading">If You Care</h1></a>
            <p class="blog-description">A software development blog by Tyler Davis</p>
            <div class="media">
            
              <a href="https://github.com/davityle"><img src="http://davityle.github.io//images/github2-dreamstale35.png"></a>
            
            
            
            
            
              <a href="https://www.linkedin.com/in/davityle"><img src="http://davityle.github.io//images/linkedin-dreamstale45.png"></a>
            
              <a href="http://davityle.github.io//index.xml"><img src="http://davityle.github.io//images/feed-dreamstale27.png"></a>
            </div>
        </div>
    </header>

<main class="content" role="main">
	<div class="container">
		<article class="post">
	<header class="post-header">
        <h3 class="p-post-title">QuickSort - Worst Case with Random Pivot</h3>
    </header>

    <section class="post-content">
        

<h4 id="problem:ee5dda3496cde6aa1d2c029c1a3a637b">Problem</h4>

<p>I&rsquo;ve read in a few places that Randomizing the pivot point removes the worst case of O(n<span style="position: relative; bottom: 1ex; font-size: 80%;">2</span>) from the quicksort algorithm. <a href="http://en.wikipedia.org/wiki/Quicksort#Analysis_of_randomized_quicksort">Wikipedia</a> is one of those places. Other places write the whole story but don&rsquo;t show any proof. The whole story is that randomizing the pivot point does not, necessarily, remove the worst case. It&rsquo;s easy to show that this is the case. This article assumes basic knowledge of the quicksort algorithm and big O notation.</p>

<p>The worst case in quick sort happens when each pivot point always contains the next lowest, or always contains the next highest, number in the sequence.</p>

<p>For example. <br> You have an unsorted array</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #a6e22e">array</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>
</pre></div>

and you want to traverse this array using random pivots. Lets just say that the random number generator produces theses numbers.
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">9</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">9</span>
</pre></div>

Those look random enough. In fact, I would be perfectly comfortable sorting my array with those random numbers just off of the first glance.</p>

<p>Look at what actually happens when you sort the array using those pivots.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">array</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">1</span>
</pre></div>

the pivot index is 4, the value at index 4 is 1. Notice that 1 is the lowest number in the array. After the first iteration you end up with this array
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<p>I&rsquo;m just going to run through the rest of the iterations here. Try not to get lost.
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">3</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">2</span>
<span style="color: #a6e22e">array</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">2</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">7</span>
<span style="color: #a6e22e">array</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">7</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">23</span>
<span style="color: #a6e22e">array</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">4</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">44</span>
<span style="color: #a6e22e">array</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">7</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">88</span>
<span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">9</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">89</span>
<span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">8</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">123</span>
<span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">8</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">999</span>
<span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">pivot</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">9</span>	 <span style="color: #a6e22e">value</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1040</span>
<span style="color: #f8f8f2">{</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">999</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">1040</span><span style="color: #f8f8f2">,</span><span style="color: #ae81ff">2009</span><span style="color: #f8f8f2">}</span>
</pre></div>

Hurray! The list is sorted. What do you notice about the number of iterations it took though? What do you notice about the values of the numbers?</p>

<p>Notice that it took about n iterations , and each iteration handled every number that wasn&rsquo;t already sorted. This results in a n operations over n iterations, or O(n<span style="position: relative; bottom: 1ex; font-size: 80%;">2</span>), operation.</p>

<p>Even though this array is sorted using a random pivot it still hit the worst possible case.</p>

<h4 id="experiment:ee5dda3496cde6aa1d2c029c1a3a637b">Experiment</h4>

<p>What if you had a way to generate this worst case scenario? Luckily, I was able to reverse engineer the quicksort algorithm and produce a shuffle that always shuffles the array into the worst case scenario for quicksort (if they have the same random seed). The simple algorithm is defined below.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #75715e">/**</span>
<span style="color: #75715e"> * This class creates the worst case scenario for a quick sort</span>
<span style="color: #75715e"> */</span>
<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">QuickShuffle</span> <span style="color: #f92672">{</span>
	<span style="color: #75715e">/**</span>
<span style="color: #75715e">	* assumes a sorted array is passed in</span>
<span style="color: #75715e">	*/</span>
	<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">quickShuffle</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">Random</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">){</span>		
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">length</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">.</span><span style="color: #a6e22e">length</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">;</span>
		<span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">indexes</span><span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #66d9ef">int</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">length</span><span style="color: #f92672">];</span>
		<span style="color: #66d9ef">for</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">length</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">++){</span>
			<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">w</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">.</span><span style="color: #a6e22e">nextInt</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">length</span> <span style="color: #f92672">-</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">);</span>
			<span style="color: #f8f8f2">indexes</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">w</span><span style="color: #f92672">;</span>
		<span style="color: #f92672">}</span>
		<span style="color: #66d9ef">for</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">indexes</span><span style="color: #f92672">.</span><span style="color: #a6e22e">length</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">&gt;=</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">--){</span>
			<span style="color: #f8f8f2">swap</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">indexes</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">]);</span>
		<span style="color: #f92672">}</span>
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">private</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">swap</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index1</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index2</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">temp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index1</span><span style="color: #f92672">];</span>
		<span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index1</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index2</span><span style="color: #f92672">];</span>
		<span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index2</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">temp</span><span style="color: #f92672">;</span>
	<span style="color: #f92672">}</span>
<span style="color: #f92672">}</span>
</pre></div>

Then with a quicksort that looks like this
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #66d9ef">public</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">QuickSort</span> <span style="color: #f92672">{</span>

	<span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">Random</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">;</span>

	<span style="color: #66d9ef">private</span> <span style="color: #a6e22e">QuickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">Random</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">){</span>
		<span style="color: #66d9ef">this</span><span style="color: #f92672">.</span><span style="color: #a6e22e">rand</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">;</span>
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">quickSort</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">Random</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">){</span>
		<span style="color: #66d9ef">new</span> <span style="color: #a6e22e">QuickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">rand</span><span style="color: #f92672">).</span><span style="color: #a6e22e">quickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">.</span><span style="color: #a6e22e">length</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">);</span>
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">QuickSort</span> <span style="color: #a6e22e">quickSort</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">){</span>
		<span style="color: #66d9ef">if</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">){</span>
			<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">pivot</span> <span style="color: #f92672">=</span><span style="color: #f8f8f2">switchPivot</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">);</span>
			<span style="color: #f8f8f2">quickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">pivot</span><span style="color: #f92672">);</span>
			<span style="color: #f8f8f2">quickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">pivot</span><span style="color: #f92672">+</span><span style="color: #ae81ff">1</span><span style="color: #f92672">,</span><span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">);</span>
		<span style="color: #f92672">}</span>
		<span style="color: #66d9ef">return</span> <span style="color: #66d9ef">this</span><span style="color: #f92672">;</span>
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">private</span> <span style="color: #66d9ef">int</span> <span style="color: #a6e22e">switchPivot</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">bottomIndex</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">rand</span><span style="color: #f92672">.</span><span style="color: #a6e22e">nextInt</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">topIndex</span> <span style="color: #f92672">-</span> <span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">);</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">value</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">];</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">bottomSearch</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">bottomIndex</span><span style="color: #f92672">-</span><span style="color: #ae81ff">1</span> <span style="color: #f92672">;</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">topSearch</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">topIndex</span><span style="color: #f92672">+</span><span style="color: #ae81ff">1</span> <span style="color: #f92672">;</span>

		<span style="color: #66d9ef">while</span> <span style="color: #f92672">(</span><span style="color: #66d9ef">true</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
		    <span style="color: #66d9ef">do</span><span style="color: #f92672">{</span>
		    	<span style="color: #f8f8f2">bottomSearch</span><span style="color: #f92672">++;</span>
		    <span style="color: #f92672">}</span><span style="color: #66d9ef">while</span> <span style="color: #f92672">(</span> <span style="color: #f8f8f2">bottomSearch</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">topIndex</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">bottomSearch</span><span style="color: #f92672">]</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">value</span><span style="color: #f92672">);</span>

		    <span style="color: #66d9ef">do</span><span style="color: #f92672">{</span>
		    	<span style="color: #f8f8f2">topSearch</span><span style="color: #f92672">--;</span>
		    <span style="color: #f92672">}</span><span style="color: #66d9ef">while</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">topSearch</span> <span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">bottomIndex</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">topSearch</span><span style="color: #f92672">]</span> <span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">value</span><span style="color: #f92672">);</span>

		    <span style="color: #66d9ef">if</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">bottomSearch</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">topSearch</span><span style="color: #f92672">)</span>
		    	<span style="color: #f8f8f2">swap</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">bottomSearch</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">topSearch</span><span style="color: #f92672">);</span>
		    <span style="color: #66d9ef">else</span>
		    	<span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">topSearch</span><span style="color: #f92672">;</span>
		<span style="color: #f92672">}</span>
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">private</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">swap</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index1</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index2</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">temp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index1</span><span style="color: #f92672">];</span>
		<span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index1</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index2</span><span style="color: #f92672">];</span>
		<span style="color: #f8f8f2">a</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index2</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">temp</span><span style="color: #f92672">;</span>
	<span style="color: #f92672">}</span>
<span style="color: #f92672">}</span>
</pre></div>

We can do some profiling and check to see if their is any validity to this worst case scenario.
I threw together this simple profiler to check out the results of a worst case scenario. (I had to increase Java&rsquo;s stack size using -Xss to run this)</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #66d9ef">public</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">Main</span> <span style="color: #f92672">{</span>

	<span style="color: #66d9ef">private</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">final</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">NUMBER_OF_ITERATIONS</span><span style="color: #f92672">=</span> <span style="color: #ae81ff">12</span><span style="color: #f92672">;</span>
	<span style="color: #66d9ef">private</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">final</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">STARTING_N</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">256</span><span style="color: #f92672">;</span>

	<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">main</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">String</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">args</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
		<span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">n</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">STARTING_N</span><span style="color: #f92672">;</span>
		<span style="color: #66d9ef">for</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">NUMBER_OF_ITERATIONS</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">++){</span>
			<span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">array</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #66d9ef">int</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">n</span><span style="color: #f92672">];</span>
			<span style="color: #66d9ef">for</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">array</span><span style="color: #f92672">.</span><span style="color: #a6e22e">length</span><span style="color: #f92672">;){</span>
				<span style="color: #f8f8f2">array</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">i</span><span style="color: #f92672">]</span> <span style="color: #f92672">=</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i</span><span style="color: #f92672">;</span>
			<span style="color: #f92672">}</span>
			<span style="color: #f8f8f2">QuickShuffle</span><span style="color: #f92672">.</span><span style="color: #a6e22e">quickShuffle</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Random</span><span style="color: #f92672">(</span><span style="color: #ae81ff">3</span><span style="color: #f92672">));</span>
			<span style="color: #66d9ef">long</span> <span style="color: #f8f8f2">start</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">currentTimeMillis</span><span style="color: #f92672">();</span>
			<span style="color: #f8f8f2">QuickSort</span><span style="color: #f92672">.</span><span style="color: #a6e22e">quickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Random</span><span style="color: #f92672">(</span><span style="color: #ae81ff">3</span><span style="color: #f92672">));</span>
			<span style="color: #66d9ef">long</span> <span style="color: #f8f8f2">sameSeedResults</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">currentTimeMillis</span><span style="color: #f92672">()</span> <span style="color: #f92672">-</span> <span style="color: #f8f8f2">start</span><span style="color: #f92672">;</span>
			<span style="color: #66d9ef">if</span><span style="color: #f92672">(!</span><span style="color: #f8f8f2">isSorted</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">))</span>
				<span style="color: #66d9ef">throw</span> <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">RuntimeException</span><span style="color: #f92672">();</span>
			<span style="color: #f8f8f2">QuickShuffle</span><span style="color: #f92672">.</span><span style="color: #a6e22e">quickShuffle</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Random</span><span style="color: #f92672">(</span><span style="color: #ae81ff">3</span><span style="color: #f92672">));</span>
			<span style="color: #f8f8f2">start</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">currentTimeMillis</span><span style="color: #f92672">();</span>
			<span style="color: #f8f8f2">QuickSort</span><span style="color: #f92672">.</span><span style="color: #a6e22e">quickSort</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Random</span><span style="color: #f92672">(</span><span style="color: #ae81ff">4</span><span style="color: #f92672">));</span>
			<span style="color: #66d9ef">long</span> <span style="color: #f8f8f2">differentSeedResults</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">currentTimeMillis</span><span style="color: #f92672">()</span> <span style="color: #f92672">-</span> <span style="color: #f8f8f2">start</span><span style="color: #f92672">;</span>
			<span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">out</span><span style="color: #f92672">.</span><span style="color: #a6e22e">println</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;Same seed      : size = &quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">n</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&quot;\ttime = &quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">sameSeedResults</span><span style="color: #f92672">);</span>
			<span style="color: #f8f8f2">System</span><span style="color: #f92672">.</span><span style="color: #a6e22e">out</span><span style="color: #f92672">.</span><span style="color: #a6e22e">println</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;Different seeds: size = &quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">n</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&quot;\ttime = &quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">differentSeedResults</span><span style="color: #f92672">);</span>
			<span style="color: #f8f8f2">n</span> <span style="color: #f92672">&lt;&lt;=</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">;</span>
		<span style="color: #f92672">}</span>			
	<span style="color: #f92672">}</span>

	<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #66d9ef">boolean</span> <span style="color: #a6e22e">isSorted</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span><span style="color: #f92672">[]</span> <span style="color: #f8f8f2">array</span><span style="color: #f92672">){</span>
		<span style="color: #66d9ef">for</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">array</span><span style="color: #f92672">.</span><span style="color: #a6e22e">length</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">;</span> <span style="color: #f8f8f2">index</span><span style="color: #f92672">++){</span>
			<span style="color: #66d9ef">if</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">array</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index</span><span style="color: #f92672">]</span> <span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">array</span><span style="color: #f92672">[</span><span style="color: #f8f8f2">index</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">1</span><span style="color: #f92672">])</span>
				<span style="color: #66d9ef">return</span> <span style="color: #66d9ef">false</span><span style="color: #f92672">;</span>
		<span style="color: #f92672">}</span>
		<span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f92672">;</span>
	<span style="color: #f92672">}</span>
<span style="color: #f92672">}</span>
</pre></div>
</p>

<p>The profiler starts at n = 256 and then increases n by a power of 2 for each following iteration. Each iteration, an array of size n is created and filled with numbers from 1 - n. The array is shuffled and sorted using the same seed then the array is shuffled and sorted using different seeds. Here is the output from that profiler.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">256</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">256</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">512</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">512</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1024</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1024</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2048</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">6</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2048</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4096</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">3</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4096</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">8192</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">12</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">8192</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">16384</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">47</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">16384</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">32768</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">187</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">32768</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">3</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">65536</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">743</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">65536</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">8</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">131072</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2960</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">131072</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">19</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">262144</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">11936</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">262144</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">34</span>
<span style="color: #a6e22e">Same</span> <span style="color: #a6e22e">seed</span>      <span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">524288</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">48304</span>
<span style="color: #a6e22e">Different</span> <span style="color: #a6e22e">seeds</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">size</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">524288</span>	<span style="color: #a6e22e">time</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">72</span>
</pre></div>
</p>

<p>Holy cow. Lets look at that in a graph. (They are sorting the exact same array!)
<img src="/images/20150202030320.png" alt="Graph showing exponential curve" /></p>

<p>The sorter using the same seed as the shuffler definitely looks exponential while the sorter using a different seed is hardly seen at all.</p>

<h4 id="conclusion:ee5dda3496cde6aa1d2c029c1a3a637b">Conclusion</h4>

<p>There is a possiblity to hit the worst case using a randomized pivot point for your quicksort algorithm, but I &lsquo;forgot&rsquo; to mention that the possiblity of you finding one of these arrays that match up do perfectly in the &lsquo;wild&rsquo; is extremely rare. Using a random pivot is still probably the safest way to do it. Just don&rsquo;t forget that it is not a guarantee that you will always perform at O(n*log(n)).</p>

    </section>

    <hr>

    <footer class="post-footer">
        <section class="f-1">
            
            
            <p class="f-post-time"><time datetime="2015-10-03T10:01:16-07:00">October 3, 2015</time></p>
        </section>
                        
        <section class="f-2">
            <section class="share">
                <span>Share:
                <a class="icon-twitter" href="http://twitter.com/share?text=QuickSort%20-%20Worst%20Case%20with%20Random%20Pivot&url=http%3a%2f%2fdavityle.github.io%2fpost%2fquicksort-randomize-worst-case%2f"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="fa fa-twitter"></i>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdavityle.github.io%2fpost%2fquicksort-randomize-worst-case%2f"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="fa fa-facebook"></i>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http%3a%2f%2fdavityle.github.io%2fpost%2fquicksort-randomize-worst-case%2f"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="fa fa-google-plus"></i>
                </a>
                </span>
            </section>

            
            	<span class="f-post-tags"><i class="fa fa-tag"></i>
            	algorithms, quicksort, java, big-o
            	</span>
            
        </section>
                        
    </footer>
</article>
	</div>
</main>
    <footer id="site-footer">
        <div class="container">
            <a href="http://davityle.github.io/index.xml" title="Get the RSS feed"><span class="tooltip"><i class="fa fa-rss"></i></span></a>
            <section>&copy; <a href="http://davityle.github.io/"></a> 2015 | All rights reserved</section>
            <section>Theme by <a href="http://www.jrdnbwmn.com">Jordan Bowman</a>. Generated with <a href="http://gohugo.io/">Hugo</a>.</section>
        </div>
    </footer>

    <script type="text/javascript" src="http://davityle.github.io/js/fittext.js"></script>
    <script type="text/javascript">
      $(".heading").fitText();
    </script>



</body>
</html>